<link rel="import" href="../../bower_components/polymer/polymer.html">
<link rel="import" href="../../bower_components/paper-menu/paper-menu.html">
<link rel="import" href="../../bower_components/paper-card/paper-card.html">
<link rel="import" href="../../bower_components/paper-button/paper-button.html">
<link rel="import" href="../../bower_components/paper-audio-player/paper-audio-player.html">
<script type="text/javascript" src="https://code.jquery.com/jquery-1.7.1.min.js"></script>

<dom-module id="intro-view">
  <!-- Defines the element's style and local DOM -->
  <template>
    <style>
      :host {
        display: block;
        padding: 16px;
      }
      .center{
        margin: 5% 10%;
        width: 80%;
        font-family: Calibri;
      }
      #header{
        font-weight: bold;
        font-size: 25px;
        font-family: Calibri;
        background: #f4bc42;
        padding: 15px;
      }
      #content{
        margin:0px;
        padding:15px;
      }
    </style>
    <paper-card class="center">
      <div id="header">WebRTC Conference - Start up</div>
      <div id="content">
        <p id="contentParagraph">WebRTC-Conference is a custom progressive web app designed 
        specifically for use in conferences. <br><br>
        If a conference is registered beforehand, you can tap into the website and listen to different channels which offer the language of your choice. <br><br>

        <b>Guides:</b><br>
        1. Log into the conference by filling out pre-given credentials.<br>
        2. Choose the language of your choice from the list of available languages. This will prompt you to the corresponding channel.<br> 
        3. Press "Play audio" in order to receive audio feedback from livestream. There's a summary of the session's content down below as well.<br><br> 

        <b>Note:</b> This web application is meant primarily for live usage. If you missed the conference, you could always request the organizers for more information. Contact details are in the contact sections of the conference. <br><br> 
        Hope you will have a productive time! <br>
        - <i>SCoRE LABS developer team</i><br>
        </p>
        <hr>
      </div>
      <style is="custom-style">
        #example-sizing-cover {
          width: 100%;
          height: 400px;
          background: #ddd;
          margin:0px;
        }
      </style>
      <iron-image sizing="cover" id="example-sizing-cover" src="conference.jpg"></iron-image>
      <br>
        
      <div id="content">
        <paper-button raised on-tap="next">Got It!</paper-button>
      </div>
      

    </paper-card>
  </template>
  <!-- Creates the element's prototype and registers it -->
  <script>
    Polymer({
      is: 'intro-view',
      next:function(){
        console.log("BACK BUTTON PRESSED!");
        var page = document.getElementById("pageIndex");
        page.selected=1;
      },
      properties:{
        name: {
          type:String,
          observer: '_nameChanged'
        },
        language: String,
        content: {
          type: String,
          reflectToAttribute: true,
          observer: '_valueChanged'
        },
        audioSRC:{
          type:String,
          //observer: '_nameChanged'
        }
      },
      _valueChanged: function(value) {
        console.log("content data is changed!")
        this.$.contentParagraph.innerHTML = this.content;
      },
      _nameChanged:function(value){
        console.log("NAME CHANGED!")
        this.$.audio.src=this.name;
        var header = this.$.header;

        $.getJSON('src/menu-layout/data.json',function(data){
          console.log("The data is: " + data.ConferenceName);
          header.innerHTML = "Conference Name: " + data.ConferenceName;
        })
      }
    });
  </script>
</dom-module>